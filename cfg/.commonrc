#!/bin/bash

# aliases

alias nvmup="nvm install node --reinstall-packages-from=node && npm i npm -g"
alias nvmclean="rm -rfv \$(ls -td \$NVM_DIR/versions/node/* | tail -n +2) && rm -rfv \$NVM_DIR/.cache/bin"

alias st="speed-test -b -v"
alias ip='curl ipinfo.io -s | jq'

alias delbranch="git branch -D $(git branch | grep -v \* | xargs)"
alias spacedock="defaults write com.apple.dock persistent-apps -array-add '{tile-data={}; tile-type='spacer-tile';}' && killall Dock"

alias gs="git status -s"
alias ga="gs && git add ."
alias gp="gs && git push"
alias gl="git log --pretty=format:'%C(yellow)%h %ad%Cred%d %Creset%s%Cblue [%cn]' --decorate --date=short"
alias gll="git log --pretty=format:'%C(yellow)%h %Cred%d %Creset%s%Cblue [%cn]' --decorate --numstat"

# functions

ARIA_ARGS=(--file-allocation=falloc --max-connection-per-server=3 --max-concurrent-downloads=3 --split=3 --max-tries=120 --retry-wait=5 --continue --remote-time)

download() {
    aria2c "$@" "${ARIA_ARGS[@]}"
}

youtube() {
    youtube-dl -o "youtube-dl/%(uploader)s - %(title)s.%(ext)s" --add-metadata --embed-subs --external-downloader aria2c --external-downloader-args "$(echo ${ARIA_ARGS[@]})" "$@"
}

gc() {
    gs && git commit -m "$(echo $@)"
}

# lang

export LANG="ru_RU.UTF-8"
export LC_CTYPE="ru_RU.UTF-8"
